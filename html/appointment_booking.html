<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Appointment - MindSpace</title>
    <link rel="stylesheet" href="/css/client_book_appointment.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Potta+One:wght@400&display=swap">
    <link rel="stylesheet" href="/css/landing_page.css">
</head>
<body>
    <header class="navbar">
        <div class="logo">
            <a href="../index.html">
                <img class="logo-mindspace-1-1-icon" alt="" src="../images/Logo.svg">
                <h1>MindSpace</h1>
            </a>
        </div>
        <button class="burger-menu" id="burgerMenu">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </button>
        <nav class="nav-links" id="navLinks">
            <a id="home" href="../index.html">Home</a>
            <a id="about_us" href="../index.html#self-help">About us</a>
            <div class="dropdown">
                <button class="dropbtn">
                    Self-Help
                    <svg class="dropdown-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                        <path d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"/>
                    </svg>
                </button>
                <div class="dropdown-content">
                    <a href="#">Self-Help</a>
                    <a href="#">Professional Support</a>
                    <a href="#">Community</a>
                </div>
            </div>
            <button id="btn-login" class="auth-button">Log In</button>
            <div class="user-dropdown" style="display: none;">
                <button class="dropdown-btn">Welcome, Username</button>
                <div class="dropdown-logout">
                    <a href="#" class="dropdown-item" onclick="handleLogout()">Profile</a>
                    <a href="#" class="dropdown-item" onclick="handleLogout()">Logout</a>
                </div>
            </div>
        </nav>
    </header>

    <div class="page-container">
        <div class="booking-container">
            <div class="booking-header">
                <h1>Book an Appointment</h1>
                <p>Select your preferred therapist and schedule a session</p>
            </div>

            <div class="booking-steps">
                <div class="step active" data-step="1">
                    <span class="step-number">1</span>
                    <span class="step-title">Choose Date & Time</span>
                </div>
                <div class="step" data-step="2">
                    <span class="step-number">2</span>
                    <span class="step-title">Select Therapist</span>
                </div>
                <div class="step" data-step="3">
                    <span class="step-number">3</span>
                    <span class="step-title">Session Details</span>
                </div>
            </div>

            <div class="booking-content">
                <!-- Step 1: Date and Time Selection -->
                <div class="booking-step show" id="step1">
                    <div class="calendar-section">
                        <div class="calendar-header">
                            <button id="prevMonth"><i class="fas fa-chevron-left"></i></button>
                            <h3 id="currentMonth"></h3>
                            <button id="nextMonth"><i class="fas fa-chevron-right"></i></button>
                        </div>
                        <div class="calendar-grid" id="calendarGrid">
                            <!-- Calendar will be populated here -->
                        </div>
                    </div>
                    <div class="time-slots" id="timeSlots">
                        <h3>Available Time Slots</h3>
                        <div class="slots-grid">
                            <!-- Time slots will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Step 2: Therapist Selection -->
                <div class="booking-step" id="step2">
                    <div class="therapist-filters">
                        <input type="text" id="therapistSearch" placeholder="Search by name or specialization...">
                        <select id="specializationFilter">
                            <option value="">All Specializations</option>
                        </select>
                    </div>
                    <div class="therapist-list" id="therapistList">
                        <!-- Therapists will be populated here -->
                    </div>
                </div>

                <!-- Step 3: Session Details -->
                <div class="booking-step" id="step3">
                    <form id="sessionDetailsForm">
                        <div class="form-group">
                            <label>Session Type</label>
                            <select id="sessionType" required>
                                <option value="video">Video Call</option>
                                <option value="voice">Voice Call</option>
                                <option value="chat">Chat Session</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Primary Concern</label>
                            <select id="concernType" required>
                                <option value="">Select your primary concern</option>
                                <option value="anxiety">Anxiety</option>
                                <option value="depression">Depression</option>
                                <option value="stress">Stress Management</option>
                                <option value="relationships">Relationships</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Additional Notes (Optional)</label>
                            <textarea id="sessionNotes" rows="4"></textarea>
                        </div>
                    </form>
                </div>
            </div>

            <div class="booking-summary" id="bookingSummary">
                <h3>Booking Summary</h3>
                <div class="summary-content">
                    <p id="selectedTherapist">No therapist selected</p>
                    <p id="selectedDateTime">No date/time selected</p>
                    <p id="selectedSession">No session type selected</p>
                </div>
            </div>

            <div class="booking-actions">
                <button class="btn btn-secondary" id="prevButton" disabled>Previous</button>
                <button class="btn btn-primary" id="nextButton">Next</button>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div class="modal" id="confirmationModal">
        <div class="modal-content">
            <h2>Confirm Your Booking</h2>
            <div class="booking-details"></div>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancelBooking">Cancel</button>
                <button class="btn btn-primary" id="confirmBooking">Confirm Booking</button>
            </div>
        </div>
    </div>

    <script src="/js/appointment_booking.js"></script>
    <script src="/js/landing_page.js"></script>
</body>
</html>
